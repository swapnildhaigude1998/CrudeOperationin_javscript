<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var product=[];
        var stock=200;
        function Calculate(){
            var p=Number(document.getElementById("txtprice").value);
            var q=Number(document.getElementById("txtqua").value);
            stock=stock-q;
            var t=p*q;
            document.getElementById("txtstock").value=stock;
            document.getElementById("txttotal").value=t;
        };

        function AddProduct(){
            var i=document.getElementById("txtid").value;
            var n=document.getElementById("txtname").value;
            var p=document.getElementById("txtprice").value;
            var q=document.getElementById("txtqua").value;
            var t=document.getElementById("txttotal").value;
            var st={"product_id":i,"product_name":n,"price":p,"quantity":q,"ava_stock":stock,"total":t};
            product.push(st);
            alert("product added succesfully!!");
            Clear();
            DisplayProduct();
        };
        function  Clear(){
            document.getElementById("txtid").value="";
            document.getElementById("txtname").value="";
            document.getElementById("txtprice").value="";
            document.getElementById("txtqua").value="";
            document.getElementById("txtstock").value="";
            document.getElementById("txttotal").value="";
        };
        function   DisplayProduct(){
            var i;
            var data="";
            var GrandTotal=0;
            for(i=0;i<product.length;i++){
                var d=product[i];
                GrandTotal=Number(GrandTotal)+Number(d.total);
                data+="<tr><td>"+d.product_id+"</td><td>"+d.product_name+"</td><td>"+d.price+"</td><td>"+d.quantity+"</td><td>"+d.ava_stock+"</td><td>"+d.total+"</td></tr>"
            }
            document.getElementById("tbldata").innerHTML=data;
            document.getElementById("gt").innerHTML=GrandTotal;
        }
    </script>
</head>
<body>
    <table>
        <tr>
            <td>Product id</td>
            <td><input type="text" id="txtid"/></td>
        </tr>
        <tr>
            <td>Product Name</td>
            <td><input type="text" id="txtname"/></td>
        </tr>
        <tr>
            <td>Price</td>
            <td><input type="text" id="txtprice" onchange="Calculate()"/></td>
        </tr>
        <tr>
            <td>Quantity</td>
            <td><input type="text" id="txtqua" onchange="Calculate()"/></td>
        </tr>
        <tr>
            <td>Available Stock</td>
            <td><input type="text" id="txtstock" onchange="Calculate()" disabled/></td>
        </tr>
        <tr>
            <td>Total</td>
            <td><input type="text" id="txttotal" disabled/></td>
        </tr>
        <tr>
            <td>
                <input type="button" value="Add" onclick="AddProduct()"/>
            </td>
        </tr>
    </table>
    <hr/>
    <table border="1">
        
         <thead>
            <tr>
                <th>Product ID</th>
                <th>Product Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Available Stock</th>
                <th>Total</th>
                <th>Action</th>
            </tr>
         </thead>
         <tbody id="tbldata"></tbody>
         <tfoot>
            <tr>
                <th colspan="4">GrandTotal</th>
                <td id="gt"></td>
            </tr>
         </tfoot>
    </table>
</body>
</html>